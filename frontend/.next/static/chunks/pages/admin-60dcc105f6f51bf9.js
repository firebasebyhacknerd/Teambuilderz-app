(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(5064)}])},8396:function(e,t,r){"use strict";var a=r(5893),s=r(7294),n=r(1664),i=r.n(n),l=r(1163),c=r(2190),o=r(8497),d=r(2761),u=r(8794);t.Z=e=>{let{title:t,subtitle:r,links:n=[],actions:x=null,onBack:p=null,children:m}=e,h=(0,l.useRouter)(),[f,g]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-muted/20 flex",children:[(0,a.jsx)("aside",{className:"fixed inset-y-0 left-0 z-30 w-72 bg-background border-r border-border shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 ".concat(f?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,a.jsxs)("div",{className:"h-full flex flex-col overflow-y-auto",children:[(0,a.jsxs)("div",{className:"px-6 py-5 border-b border-border flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"TeamBuilderz"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Control Center"})]}),(0,a.jsx)(u.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>g(!1),children:(0,a.jsx)(c.Z,{size:20})})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:n.map(e=>{let{href:t,label:r,icon:s}=e,n=h.pathname===t;return(0,a.jsxs)(i(),{href:t,onClick:()=>g(!1),className:"flex items-center gap-3 rounded-lg px-4 py-2 text-sm font-medium transition-colors ".concat(n?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[s&&(0,a.jsx)(s,{size:18}),(0,a.jsx)("span",{children:r})]},t)})})]})}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-20 lg:hidden",onClick:()=>g(!1)}),(0,a.jsxs)("div",{className:"flex-1 lg:ml-72",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur border-b border-border",children:(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-4 flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.z,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>g(!0),children:(0,a.jsx)(o.Z,{size:20})}),p&&(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"gap-2",onClick:p,children:[(0,a.jsx)(d.Z,{size:16}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:t}),r&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]})]}),x&&(0,a.jsx)("div",{className:"flex items-center gap-3",children:x})]})}),(0,a.jsx)("main",{className:"px-4 sm:px-6 py-6",children:m})]})]})}},8794:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var a=r(5893),s=r(7294),n=r(8426),i=r(2003),l=r(7865);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:o=!1,...d}=e,u=o?n.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(c({variant:s,size:i,className:r})),ref:t,...d})});o.displayName="Button"},8133:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return c}});var a=r(5893),s=r(7294),n=r(7865);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},610:function(e,t,r){"use strict";let a=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";t.Z=a},7865:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(512),s=r(8388);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},893:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},3346:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4307:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},775:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},113:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9176:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5064:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(5893),s=r(7294),n=r(1163),i=r(6215),l=r(9176),c=r(2553),o=r(2542),d=r(775),u=r(893),x=r(1134);let p=(0,x.Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var m=r(113);let h=(0,x.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var f=r(3346),g=r(4307),y=r(8133),b=r(8794),v=r(610),j=r(8396);let N=e=>{let{icon:t,title:r,value:s,accent:n}=e;return(0,a.jsxs)(y.Zb,{className:"flex items-center gap-3 p-5",children:[(0,a.jsx)("div",{className:"h-11 w-11 rounded-full flex items-center justify-center ".concat(n),children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:r}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:s})]})]})},k=e=>{let{icon:t,title:r,description:s,onClick:n,accent:i}=e;return(0,a.jsx)(y.Zb,{className:"p-5 border-dashed hover:border-primary/40 transition-colors cursor-pointer",onClick:n,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center ".concat(i),children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base font-semibold text-foreground",children:r}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s})]})]})})},w=e=>{let{recruiter:t}=e,r=t.avg_apps_per_day<t.daily_quota;return(0,a.jsxs)("div",{className:"flex justify-between items-center px-6 py-3 hover:bg-white/90 transition duration-150 ease-in-out cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-800",children:t.recruiter_name}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Candidates: ",t.total_candidates]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(r?"text-red-600":"text-green-600"),children:[Math.round(t.avg_apps_per_day||0)," / ",t.daily_quota," Avg Apps/Day"]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[t.apps_total_period||0," Total Apps"]})]}),(0,a.jsx)(g.Z,{size:18,className:"text-gray-400 ml-4"})]})};var Z=()=>{let e=(0,n.useRouter)(),[t,r]=(0,s.useState)([]),[x,g]=(0,s.useState)([]),[Z,_]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[z,M]=(0,s.useState)([]),[A,T]=(0,s.useState)(!0),[I,R]=(0,s.useState)("Admin");(0,s.useEffect)(()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}let a=async(r,a)=>{try{let s=await fetch("".concat(v.Z).concat(r),{headers:{Authorization:"Bearer ".concat(t)}});if(403===s.status||401===s.status){e.push("/login");return}let n=await s.json();a(n)}catch(e){console.error("Error fetching ".concat(r,":"),e.message)}},s=new Date,n=new Date(s);n.setDate(s.getDate()-6);let i=n.toISOString().split("T")[0],l=s.toISOString().split("T")[0],c=new Date(s.getFullYear(),s.getMonth(),1).toISOString().split("T")[0],o=s.toISOString().split("T")[0];Promise.all([a("/api/v1/candidates",r),a("/api/v1/reports/performance",g),a("/api/v1/reports/performance?date_from=".concat(i,"&date_to=").concat(l),_),a("/api/v1/reports/performance?date_from=".concat(c,"&date_to=").concat(o),S),a("/api/v1/alerts",M)]).finally(()=>T(!1)),(()=>{let e=localStorage.getItem("userName");e&&R(e)})()},[e]);let D=t.length,E=x.length,O=x.reduce((e,t)=>e+parseInt(t.apps_total_period||0),0),V=z.filter(e=>"open"===e.status).length,P=Z.length>0?Math.round(Z.reduce((e,t)=>e+parseFloat(t.avg_apps_per_day||0),0)/Z.length):0,q=C.length>0?Math.round(C.reduce((e,t)=>e+parseFloat(t.avg_apps_per_day||0),0)/C.length):0,B=[{href:"/admin",label:"Dashboard",icon:i.Z},{href:"/admin/candidates",label:"Candidates",icon:l.Z},{href:"/recruiter/applications",label:"Applications",icon:c.Z},{href:"/alerts",label:"Alerts",icon:o.Z}];return A?(0,a.jsx)(j.Z,{title:"Admin Dashboard",subtitle:"Welcome back, ".concat(I),links:B,children:(0,a.jsx)("div",{className:"h-48 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Loading dashboardâ€¦"})})}):(0,a.jsxs)(j.Z,{title:"Admin Dashboard",subtitle:"Welcome back, ".concat(I),links:B,actions:(0,a.jsxs)(b.z,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),e.push("/login")},children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Logout"]}),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-8",children:[(0,a.jsx)(N,{icon:(0,a.jsx)(l.Z,{className:"h-5 w-5 text-blue-600"}),title:"Total Candidates",value:D,accent:"bg-blue-100 text-blue-700"}),(0,a.jsx)(N,{icon:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-emerald-600"}),title:"Total Recruiters",value:E,accent:"bg-emerald-100 text-emerald-700"}),(0,a.jsx)(N,{icon:(0,a.jsx)(p,{className:"h-5 w-5 text-purple-600"}),title:"Total Applications",value:O,accent:"bg-purple-100 text-purple-700"}),(0,a.jsx)(N,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-yellow-600"}),title:"Weekly Avg Apps/Day",value:P,accent:"bg-yellow-100 text-yellow-700"}),(0,a.jsx)(N,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-pink-600"}),title:"Monthly Avg Apps/Day",value:q,accent:"bg-pink-100 text-pink-700"}),(0,a.jsx)(N,{icon:(0,a.jsx)(o.Z,{className:"h-5 w-5 text-red-600"}),title:"Open Alerts",value:V,accent:"bg-red-100 text-red-700"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)(k,{icon:(0,a.jsx)(h,{className:"h-5 w-5 text-blue-600"}),title:"Manage Candidates",description:"Add, edit, and track candidates",onClick:()=>e.push("/admin/candidates"),accent:"bg-blue-100 text-blue-700"}),(0,a.jsx)(k,{icon:(0,a.jsx)(c.Z,{className:"h-5 w-5 text-emerald-600"}),title:"View Applications",description:"Track all job applications",onClick:()=>e.push("/recruiter/applications"),accent:"bg-emerald-100 text-emerald-700"}),(0,a.jsx)(k,{icon:(0,a.jsx)(f.Z,{className:"h-5 w-5 text-purple-600"}),title:"Schedule Interviews",description:"Manage interview schedules",onClick:()=>e.push("/recruiter/interviews"),accent:"bg-purple-100 text-purple-700"}),(0,a.jsx)(k,{icon:(0,a.jsx)(o.Z,{className:"h-5 w-5 text-red-600"}),title:"View Alerts",description:"Check notifications and alerts",onClick:()=>e.push("/alerts"),accent:"bg-red-100 text-red-700"})]}),(0,a.jsxs)(y.Zb,{className:"p-0",children:[(0,a.jsx)("h2",{className:"px-6 py-4 text-xl font-bold text-gray-800 border-b border-gray-200",children:"Recruiter Performance"}),(0,a.jsxs)("div",{className:"divide-y divide-gray-200",children:[0===x.length&&(0,a.jsx)("p",{className:"p-4 text-gray-500",children:"No recruiter data found."}),x.map((e,t)=>(0,a.jsx)(w,{recruiter:e},t))]})]})]})}}},function(e){e.O(0,[516,787,888,774,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);