(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{3454:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(7663)},4146:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recruiter",function(){return r(9183)}])},5965:function(e,t,r){"use strict";var n=r(5893);t.Z=e=>{let{children:t,className:r=""}=e;return(0,n.jsx)("div",{className:"bg-white/70 backdrop-blur-xl p-6 rounded-3xl shadow-lg border border-white/80 transition-all duration-300 "+r,children:t})}},610:function(e,t,r){"use strict";let n=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";t.Z=n},1134:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(7294);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...m}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:o?24*Number(s)/Number(a):s,className:i("lucide",d),...!u&&!l(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,n.createElement)(d,{ref:s,iconNode:t,className:i("lucide-".concat(a(o(e))),"lucide-".concat(e),l),...c})});return r.displayName=o(e),r}},4307:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1134).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},775:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1134).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},9183:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(7294),s=r(5965),o=r(775),i=r(4307),l=r(1163),c=r(610);let d=e=>{let{title:t,userName:r}=e;return(0,n.jsx)("div",{className:"mb-8 pt-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Hello,"}),(0,n.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900 tracking-tight",children:r}),(0,n.jsx)("p",{className:"mt-1 text-xl text-gray-600",children:t})]}),(0,n.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),window.location.href="/login"},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[(0,n.jsx)(o.Z,{size:16}),"Logout"]})]})})},u=e=>{let{candidate:t,onClick:r}=e;return(0,n.jsxs)("div",{onClick:r,className:"flex justify-between items-center px-6 py-3 hover:bg-white/90 transition duration-150 ease-in-out cursor-pointer",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-800",children:t.name}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:t.technology_primary||"N/A"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:[t.daily_applications||0," Apps Today"]}),(0,n.jsx)(i.Z,{size:18,className:"text-gray-400"})]})]})},h=e=>{let{percentage:t,value:r,target:a}=e,s=2*Math.PI*60;return(0,n.jsxs)("svg",{className:"w-40 h-40 transform -rotate-90",children:[(0,n.jsx)("circle",{className:"text-gray-200",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:60,cx:"80",cy:"80"}),(0,n.jsx)("circle",{className:"text-blue-600 transition-all duration-1000 ease-in-out",strokeWidth:"10",strokeDasharray:s,strokeDashoffset:s-t/100*s,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:60,cx:"80",cy:"80"}),(0,n.jsxs)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",className:"text-4xl font-bold text-gray-900 rotate-90 transform translate-x-[-12px] translate-y-[-10px]",children:[Math.round(t),"%"]}),(0,n.jsxs)("text",{x:"50%",y:"70%",dominantBaseline:"middle",textAnchor:"middle",className:"text-sm text-gray-500 rotate-90 transform translate-x-[-12px] translate-y-[-10px]",children:[r,"/",a]})]})};t.default=()=>{let e=(0,l.useRouter)(),[t,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0),[m,p]=(0,a.useState)(0),[x,f]=(0,a.useState)(0),g=localStorage.getItem("userName"),y=t.reduce((e,t)=>e+parseInt(t.daily_applications||0),0),v=Math.min(100,y/60*100);return((0,a.useEffect)(()=>{let t=localStorage.getItem("token");if(!t){e.push("/login");return}let n=async()=>{try{let e=new Date,t=new Date(e);t.setDate(e.getDate()-6);let r=t.toISOString().split("T")[0],n=e.toISOString().split("T")[0],a=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],s=e.toISOString().split("T")[0],o=localStorage.getItem("token"),i=await fetch("".concat(c.Z,"/api/v1/reports/performance?date_from=").concat(r,"&date_to=").concat(n),{headers:{Authorization:"Bearer ".concat(o)}}),l=await i.json(),d=await fetch("".concat(c.Z,"/api/v1/reports/performance?date_from=").concat(a,"&date_to=").concat(s),{headers:{Authorization:"Bearer ".concat(o)}}),u=await d.json(),h=localStorage.getItem("userName"),m=l.find(e=>e.recruiter_name===h),x=u.find(e=>e.recruiter_name===h);p(m?Math.round(m.avg_apps_per_day||0):0),f(x?Math.round(x.avg_apps_per_day||0):0)}catch(e){p(0),f(0)}};(async()=>{try{let n=await fetch("".concat(c.Z,"/api/v1/candidates"),{headers:{Authorization:"Bearer ".concat(t)}});if(401===n.status||403===n.status){e.push("/login");return}if(!n.ok)throw Error("Failed to fetch candidates.");r(await n.json())}catch(e){console.error(e.message)}finally{i(!1)}})(),n()},[e]),o)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading Dashboard..."}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50/50 backdrop-blur-sm p-4 md:p-8",children:[(0,n.jsx)(d,{title:"My Candidate Pipeline",userName:g}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[(0,n.jsxs)(s.Z,{className:"p-8 flex flex-col items-center col-span-1 lg:col-span-2",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Daily Application Target"}),(0,n.jsx)(h,{percentage:v,value:y,target:60}),(0,n.jsxs)("p",{className:"mt-4 text-center text-gray-600",children:["You have logged ",(0,n.jsx)("span",{className:"font-bold text-blue-600",children:y})," out of the ",(0,n.jsx)("span",{className:"font-bold",children:60})," applications required today."]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mt-6 w-full justify-center",children:[(0,n.jsxs)("div",{className:"bg-yellow-100 rounded-lg px-4 py-2 text-center w-full md:w-1/2",children:[(0,n.jsx)("span",{className:"block text-sm text-gray-700",children:"Weekly Avg Apps/Day"}),(0,n.jsx)("span",{className:"text-xl font-bold text-yellow-700",children:m})]}),(0,n.jsxs)("div",{className:"bg-pink-100 rounded-lg px-4 py-2 text-center w-full md:w-1/2",children:[(0,n.jsx)("span",{className:"block text-sm text-gray-700",children:"Monthly Avg Apps/Day"}),(0,n.jsx)("span",{className:"text-xl font-bold text-pink-700",children:x})]})]})]}),(0,n.jsxs)(s.Z,{className:"p-0 col-span-1",children:[(0,n.jsx)("h2",{className:"px-6 py-4 text-xl font-bold text-gray-800 border-b border-gray-200",children:"My Candidates"}),(0,n.jsxs)("div",{className:"divide-y divide-gray-200",children:[0===t.length&&(0,n.jsx)("p",{className:"p-4 text-gray-500",children:"No candidates assigned yet."}),t.map(t=>(0,n.jsx)(u,{candidate:t,onClick:()=>e.push("/recruiter/candidate/".concat(t.id))},t.id))]})]})]})]})}},7663:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l=[],c=!1,d=-1;function u(){c&&n&&(c=!1,n.length?l=n.concat(l):d=-1,l.length&&h())}function h(){if(!c){var e=i(u);c=!0;for(var t=l.length;t;){for(n=l,l=[];++d<t;)n&&n[d].run();d=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||c||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}},o=!0;try{t[e](s,s.exports,n),o=!1}finally{o&&delete r[e]}return s.exports}n.ab="//";var a=n(229);e.exports=a}()},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=4146)}),_N_E=e.O()}]);