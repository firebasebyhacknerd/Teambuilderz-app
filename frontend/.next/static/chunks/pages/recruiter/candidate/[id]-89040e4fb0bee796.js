(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{6793:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recruiter/candidate/[id]",function(){return r(760)}])},8396:function(e,t,r){"use strict";var a=r(5893),s=r(7294),n=r(1664),l=r.n(n),i=r(1163),o=r(2190),c=r(8497),d=r(2761),u=r(8794);t.Z=e=>{let{title:t,subtitle:r,links:n=[],actions:x=null,onBack:p=null,children:f}=e,m=(0,i.useRouter)(),[g,h]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-muted/20 flex",children:[(0,a.jsx)("aside",{className:"fixed inset-y-0 left-0 z-30 w-72 bg-background border-r border-border shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 ".concat(g?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,a.jsxs)("div",{className:"h-full flex flex-col overflow-y-auto",children:[(0,a.jsxs)("div",{className:"px-6 py-5 border-b border-border flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"TeamBuilderz"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Control Center"})]}),(0,a.jsx)(u.z,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>h(!1),children:(0,a.jsx)(o.Z,{size:20})})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:n.map(e=>{let{href:t,label:r,icon:s}=e,n=m.pathname===t;return(0,a.jsxs)(l(),{href:t,onClick:()=>h(!1),className:"flex items-center gap-3 rounded-lg px-4 py-2 text-sm font-medium transition-colors ".concat(n?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:[s&&(0,a.jsx)(s,{size:18}),(0,a.jsx)("span",{children:r})]},t)})})]})}),g&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-20 lg:hidden",onClick:()=>h(!1)}),(0,a.jsxs)("div",{className:"flex-1 lg:ml-72",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur border-b border-border",children:(0,a.jsxs)("div",{className:"px-4 sm:px-6 py-4 flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.z,{variant:"outline",size:"icon",className:"lg:hidden",onClick:()=>h(!0),children:(0,a.jsx)(c.Z,{size:20})}),p&&(0,a.jsxs)(u.z,{variant:"outline",size:"sm",className:"gap-2",onClick:p,children:[(0,a.jsx)(d.Z,{size:16}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:t}),r&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]})]}),x&&(0,a.jsx)("div",{className:"flex items-center gap-3",children:x})]})}),(0,a.jsx)("main",{className:"px-4 sm:px-6 py-6",children:f})]})]})}},6601:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var a=r(5893),s=r(7294),n=r(2003),l=r(7865);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)(i({variant:s}),r),...n})});o.displayName="Badge"},8794:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var a=r(5893),s=r(7294),n=r(8426),l=r(2003),i=r(7865);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:r})),ref:t,...d})});c.displayName="Button"},8133:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=r(5893),s=r(7294),n=r(7865);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},9376:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(5893),s=r(7294),n=r(7865);let l=s.forwardRef((e,t)=>{let{className:r,type:s="text",...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},610:function(e,t,r){"use strict";let a=r(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";t.Z=a},7865:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(512),s=r(8388);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},893:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4442:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},113:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8267:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},760:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(5893),s=r(7294),n=r(1163),l=r(6215),i=r(2553),o=r(2542),c=r(4442),d=r(1134);let u=(0,d.Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var x=r(2190),p=r(8267),f=r(893),m=r(113);let g=(0,d.Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var h=r(8133),b=r(8794),v=r(6601),y=r(9376),j=r(8396),N=r(610);let k=[{href:"/recruiter",label:"Dashboard",icon:l.Z},{href:"/recruiter/applications",label:"Applications",icon:i.Z},{href:"/alerts",label:"Alerts",icon:o.Z}],w={onboarding:"bg-blue-100 text-blue-800",marketing:"bg-yellow-100 text-yellow-800",interviewing:"bg-purple-100 text-purple-800",offered:"bg-green-100 text-green-800",placed:"bg-emerald-100 text-emerald-800",inactive:"bg-gray-100 text-gray-800"},_=e=>{let{icon:t,label:r,value:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-muted/30 px-4 py-3",children:[(0,a.jsx)("div",{className:"rounded-md bg-background p-2 shadow-sm",children:t}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),s.isValidElement(n)?n:(0,a.jsx)("span",{className:"text-sm font-semibold text-foreground",children:n})]})]})},C=e=>{let{label:t,value:r,suffix:s="",tone:n}=e;return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 text-center ".concat(null!=n?n:"bg-muted text-foreground"),children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-foreground",children:[r,s]})]})};var Z=()=>{var e;let t=(0,n.useRouter)(),{id:r}=t.query,[l,i]=(0,s.useState)(null),[o,d]=(0,s.useState)(!0),[Z,z]=(0,s.useState)(!1),[S,A]=(0,s.useState)(0),[I,E]=(0,s.useState)(0),[R,B]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!localStorage.getItem("token")){t.push("/login");return}r&&M()},[r]);let M=async()=>{try{let e=localStorage.getItem("token"),a=await fetch("".concat(N.Z,"/api/v1/candidates"),{headers:{Authorization:"Bearer ".concat(e)}});if(401===a.status||403===a.status){t.push("/login");return}let s=(await a.json()).find(e=>e.id===parseInt(r,10));s&&(i(s),A(s.daily_applications||0),E(s.total_applications||0))}catch(e){console.error("Error fetching candidate details:",e),B("Unable to load candidate information.")}finally{d(!1)}},T=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("".concat(N.Z,"/api/v1/candidates/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({daily_applications:S,total_applications:I})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.message||"Failed to update candidate.")}i(e=>({...e,daily_applications:S,total_applications:I})),z(!1),B("")}catch(e){console.error("Error updating candidate:",e),B(e.message)}},D=(0,s.useMemo)(()=>(null==l?void 0:l.current_stage)?l.current_stage.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"N/A",[null==l?void 0:l.current_stage]),P=(0,s.useMemo)(()=>{var e;return(null==l?void 0:null===(e=l.skills)||void 0===e?void 0:e[0])||"N/A"},[null==l?void 0:l.skills]);return o?(0,a.jsx)(j.Z,{title:"Candidate Detail",links:k,onBack:()=>t.push("/recruiter"),children:(0,a.jsx)("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:"Loading candidate..."})}):l?(0,a.jsxs)(j.Z,{title:l.name,subtitle:l.email,links:k,onBack:()=>t.push("/recruiter"),actions:(0,a.jsx)(v.C,{className:null!==(e=w[l.current_stage])&&void 0!==e?e:"bg-blue-100 text-blue-800",children:D}),children:[R&&(0,a.jsx)("div",{className:"mb-4 text-sm text-red-600 bg-red-100/80 border border-red-200 rounded-lg p-3",children:R}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(h.Zb,{className:"lg:col-span-2 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Candidate Information"}),Z?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(b.z,{size:"sm",className:"gap-2 bg-green-600 hover:bg-green-600/90",onClick:T,children:[(0,a.jsx)(u,{className:"h-4 w-4"}),"Save"]}),(0,a.jsxs)(b.z,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>{A(l.daily_applications||0),E(l.total_applications||0),z(!1),B("")},children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Cancel"]})]}):(0,a.jsxs)(b.z,{size:"sm",className:"gap-2",onClick:()=>z(!0),children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Edit"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(_,{icon:(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),label:"Name",value:l.name}),(0,a.jsx)(_,{icon:(0,a.jsx)(f.Z,{className:"h-5 w-5 text-emerald-600"}),label:"Primary Skill",value:P}),(0,a.jsx)(_,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-purple-600"}),label:"Daily Applications",value:Z?(0,a.jsx)(y.I,{type:"number",value:S,onChange:e=>A(parseInt(e.target.value,10)||0),className:"max-w-[120px]"}):l.daily_applications||0}),(0,a.jsx)(_,{icon:(0,a.jsx)(g,{className:"h-5 w-5 text-orange-600"}),label:"Total Applications",value:Z?(0,a.jsx)(y.I,{type:"number",value:I,onChange:e=>E(parseInt(e.target.value,10)||0),className:"max-w-[120px]"}):l.total_applications||0})]})]}),(0,a.jsxs)(h.Zb,{className:"p-6 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Performance Snapshot"}),(0,a.jsx)(C,{label:"Today's Applications",value:l.daily_applications||0,tone:"bg-blue-100 text-blue-700"}),(0,a.jsx)(C,{label:"Total Applications",value:l.total_applications||0,tone:"bg-green-100 text-green-700"}),(0,a.jsx)(C,{label:"Daily vs Total",value:l.total_applications>0?Math.round((l.daily_applications||0)/l.total_applications*100):0,suffix:"%",tone:"bg-purple-100 text-purple-700"})]})]})]}):(0,a.jsx)(j.Z,{title:"Candidate Detail",links:k,onBack:()=>t.push("/recruiter"),children:(0,a.jsxs)("div",{className:"h-48 flex flex-col items-center justify-center space-y-2 text-muted-foreground",children:[(0,a.jsx)("p",{children:"Candidate not found or no longer assigned."}),(0,a.jsx)(b.z,{onClick:()=>t.push("/recruiter"),children:"Back to Dashboard"})]})})}}},function(e){e.O(0,[516,787,888,774,179],function(){return e(e.s=6793)}),_N_E=e.O()}]);