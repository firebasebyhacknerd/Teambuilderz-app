(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{8195:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(5226)}])},7918:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},893:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},4307:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},775:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5452:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},113:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},437:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},9176:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(1134).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},5226:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var a=s(5893),r=s(7294),d=s(1163),n=s(6215),i=s(9176),l=s(2553),c=s(2542),o=s(775),m=s(893),x=s(1134);let u=(0,x.Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var p=s(113);let h=(0,x.Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var g=s(437),v=s(5452);let f=(0,x.Z)("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);var j=s(7918),b=s(4307),y=s(8133),N=s(8794),k=s(8396),w=s(9864);let Z=new Intl.NumberFormat,A=new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:0}),M=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}),C=e=>{let{icon:t,title:s,value:r,accent:d}=e;return(0,a.jsxs)(y.Zb,{className:"flex items-center gap-3 p-5",children:[(0,a.jsx)("div",{className:"h-11 w-11 rounded-full flex items-center justify-center ".concat(d),children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:s}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:Z.format(r)})]})]})},_=e=>{let{label:t,count:s,total:r}=e,d=t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,a.jsxs)("div",{className:"rounded-lg border border-border bg-background/80 px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-foreground",children:d}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Z.format(s)," candidates"]})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-primary",children:A.format(r>0?s/r:0)})]})},D=e=>{let{label:t,value:s,tone:r}=e;return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 ".concat(null!=r?r:"bg-muted text-foreground"),children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),(0,a.jsx)("p",{className:"text-xl font-semibold text-foreground",children:s})]})},T=e=>{var t,s,r,d,n,i;let{recruiter:l}=e,c=Number(l.dailyQuota||l.daily_quota||0),o=null!==(s=null!==(t=l.avgApplicationsLast7Days)&&void 0!==t?t:l.avg_apps_last_7)&&void 0!==s?s:0,m=null!==(d=null!==(r=l.avgApplicationsLast30Days)&&void 0!==r?r:l.avg_apps_last_30)&&void 0!==d?d:0,x=null!==(i=null!==(n=l.applicationsToday)&&void 0!==n?n:l.applications_today)&&void 0!==i?i:0,u=c>0?x-c:x;return(0,a.jsxs)("div",{className:"flex justify-between items-center px-6 py-3 hover:bg-muted/50 transition cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-semibold text-foreground",children:l.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Quota: ",c]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(c&&x<c?"text-red-600":"text-emerald-600"),children:[x," / ",c||"—"," Apps today"]}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["7-day avg ",o.toFixed(1)," • 30-day avg ",m.toFixed(1)]}),c>0&&(0,a.jsx)("span",{className:"text-xs font-medium ".concat(u<0?"text-red-600":"text-muted-foreground"),children:u<0?"".concat(Math.abs(u)," below target"):"On track"})]}),(0,a.jsx)(b.Z,{size:18,className:"text-muted-foreground ml-4"})]})},S=e=>{var t;let{note:s}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-border bg-card/60 p-4 shadow-sm",children:[(0,a.jsx)("div",{className:"flex justify-between items-center gap-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-foreground",children:[null===(t=s.author)||void 0===t?void 0:t.name,s.isPrivate&&(0,a.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Private)"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.candidateName," • ",M.format(new Date(s.createdAt))]})]})}),(0,a.jsx)("p",{className:"mt-3 text-sm leading-relaxed text-foreground",children:s.content})]})},I=e=>{var t,s,r;let{reminder:d}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-border bg-amber-50 px-4 py-3 text-xs text-amber-800 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold",children:d.title}),(0,a.jsx)("span",{className:"font-medium",children:M.format(new Date(d.dueDate))})]}),d.description&&(0,a.jsx)("p",{className:"text-amber-700/80",children:d.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-amber-700/70",children:[(0,a.jsxs)("span",{children:["Owner: ",null!==(r=null===(t=d.owner)||void 0===t?void 0:t.name)&&void 0!==r?r:"Unassigned",(null===(s=d.candidate)||void 0===s?void 0:s.name)?" • ".concat(d.candidate.name):""]}),(0,a.jsxs)("span",{children:["Priority ",d.priority]})]})]})},P=e=>{var t,s,r;let{reminder:d}=e;return(0,a.jsxs)("div",{className:"rounded-md border border-border px-3 py-2 text-sm bg-muted/40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium text-foreground",children:d.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:M.format(new Date(d.dueDate))})]}),d.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:d.description}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[null!==(r=null===(t=d.owner)||void 0===t?void 0:t.name)&&void 0!==r?r:"Unassigned",(null===(s=d.candidate)||void 0===s?void 0:s.name)?" • ".concat(d.candidate.name):""]})]})},R=e=>{var t,s;let{alert:r}=e;return(0,a.jsxs)("div",{className:"rounded-md border border-border px-3 py-2 text-sm bg-muted/40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium text-foreground",children:r.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:r.type})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:r.message}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Owner: ",null!==(s=null===(t=r.owner)||void 0===t?void 0:t.name)&&void 0!==s?s:"Unassigned"," • Priority ",r.priority]})]})};var L=()=>{var e,t,s,x,b,A,M,L;let F=(0,d.useRouter)(),[V,q]=(0,r.useState)(""),[z,E]=(0,r.useState)("Admin");(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("userRole");if(!e){F.push("/login");return}if("Admin"!==t){F.replace("/recruiter");return}q(e);let s=localStorage.getItem("userName");s&&E(s)},[F]);let{data:H,isLoading:O}=(0,w.tP)(V,!!V),{data:U,isLoading:Q}=(0,w.rE)(V,!!V),{data:W,isLoading:X}=(0,w.lF)(V,!!V),K=null!==(e=null==H?void 0:H.summary)&&void 0!==e?e:{totalCandidates:0,activeCandidates:0,marketingCandidates:0,avgCandidateTenureDays:0,totalRecruiters:0,totalApplicationsToday:0,totalInterviewsToday:0,totalAssessmentsToday:0},B=null!==(t=null==H?void 0:H.candidateStages)&&void 0!==t?t:[],G=null!==(s=null==H?void 0:H.marketingVelocity)&&void 0!==s?s:{avgApplicationsPerCandidate:0,avgDaysSinceLastApplication:0},J=null!==(x=null==H?void 0:H.recruiterProductivity)&&void 0!==x?x:[],Y=null!==(b=null==U?void 0:U.recentNotes)&&void 0!==b?b:[],$=null!==(A=null==U?void 0:U.upcomingReminders)&&void 0!==A?A:[],ee=null!==(M=null==W?void 0:W.reminders)&&void 0!==M?M:[],et=null!==(L=null==W?void 0:W.alerts)&&void 0!==L?L:[],es=O||Q||X||!V,ea=[{href:"/admin",label:"Dashboard",icon:n.Z},{href:"/admin/candidates",label:"Candidates",icon:i.Z},{href:"/recruiter/applications",label:"Applications",icon:l.Z},{href:"/alerts",label:"Alerts",icon:c.Z}];return es?(0,a.jsx)(k.Z,{title:"Admin Dashboard",subtitle:"Welcome back, ".concat(z),links:ea,children:(0,a.jsx)("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:"Loading dashboard..."})}):(0,a.jsxs)(k.Z,{title:"Admin Dashboard",subtitle:"Welcome back, ".concat(z),links:ea,actions:(0,a.jsxs)(N.z,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("userName"),F.push("/login")},children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Logout"]}),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)(C,{icon:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-primary"}),title:"Total Candidates",value:K.totalCandidates,accent:"bg-primary/10 text-primary"}),(0,a.jsx)(C,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-emerald-600"}),title:"Active Recruiters",value:K.totalRecruiters,accent:"bg-emerald-100 text-emerald-700"}),(0,a.jsx)(C,{icon:(0,a.jsx)(u,{className:"h-5 w-5 text-blue-600"}),title:"Applications Today",value:K.totalApplicationsToday,accent:"bg-blue-100 text-blue-700"}),(0,a.jsx)(C,{icon:(0,a.jsx)(p.Z,{className:"h-5 w-5 text-pink-600"}),title:"Interviews Today",value:K.totalInterviewsToday,accent:"bg-pink-100 text-pink-700"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5 text-primary"}),"Candidate Pipeline"]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Average tenure ",Z.format(Math.round(K.avgCandidateTenureDays))," days across the bench."]})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:0===B.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground col-span-2",children:"No candidate pipeline data available."}):B.map(e=>(0,a.jsx)(_,{label:e.stage,count:e.count,total:K.totalCandidates||1},e.stage))})]}),(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-emerald-600"}),"Marketing Velocity"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Keep outreach momentum steady and spot dormant candidates quickly."})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)(D,{label:"Avg apps per candidate",value:G.avgApplicationsPerCandidate.toFixed(1),tone:"bg-emerald-50 text-emerald-700"}),(0,a.jsx)(D,{label:"Avg days since last app",value:G.avgDaysSinceLastApplication.toFixed(1),tone:"bg-amber-50 text-amber-700"}),(0,a.jsx)(D,{label:"Marketing candidates",value:K.marketingCandidates,tone:"bg-blue-50 text-blue-700"}),(0,a.jsx)(D,{label:"Active candidates",value:K.activeCandidates,tone:"bg-purple-50 text-purple-700"})]})]})]}),(0,a.jsxs)(y.Zb,{className:"p-0 mb-8",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-border flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground",children:"Recruiter Productivity"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tracking applications, interviews, and trend averages."})]}),(0,a.jsx)("div",{className:"divide-y divide-border",children:0===J.length?(0,a.jsx)("p",{className:"p-4 text-sm text-muted-foreground",children:"No recruiter productivity data found."}):J.map(e=>(0,a.jsx)(T,{recruiter:e},e.id))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-primary"}),"Recent Collaboration"]}),0===Y.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent notes logged."}):(0,a.jsx)("div",{className:"space-y-3",children:Y.map(e=>(0,a.jsx)(S,{note:e},e.id))})]}),(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-5 w-5 text-amber-600"}),"Upcoming Reminders"]}),0===$.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No active reminders scheduled."}):(0,a.jsx)("div",{className:"space-y-3",children:$.map(e=>(0,a.jsx)(I,{reminder:e},e.id))})]})]}),(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5 text-orange-600"}),"Notification Center"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:"Reminders"}),0===ee.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No pending reminders."}):(0,a.jsx)("div",{className:"space-y-2",children:ee.map(e=>(0,a.jsx)(P,{reminder:e},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:"Alerts"}),0===et.length?(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"All clear! No open alerts."}):(0,a.jsx)("div",{className:"space-y-2",children:et.map(e=>(0,a.jsx)(R,{alert:e},e.id))})]})]})]})]})}}},function(e){e.O(0,[696,787,803,858,888,774,179],function(){return e(e.s=8195)}),_N_E=e.O()}]);