(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{6793:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recruiter/candidate/[id]",function(){return r(4666)}])},6601:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var a=r(5893),s=r(7294),n=r(2003),l=r(7865);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)(i({variant:s}),r),...n})});o.displayName="Badge"},9376:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(5893),s=r(7294),n=r(7865);let l=s.forwardRef((e,t)=>{let{className:r,type:s="text",...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},2697:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(5893),s=r(7294),n=r(9102),l=r(2003),i=r(7865);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),r),...s})});d.displayName=n.f.displayName},9701:function(e,t,r){"use strict";var a=r(5893),s=r(7294),n=r(7865);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{ref:t,className:(0,n.cn)("flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",r),...s})});l.displayName="Textarea",t.Z=l},7918:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},893:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},2126:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5452:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},4442:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},113:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},437:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},8267:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(1134).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4666:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return z}});var a=r(5893),s=r(7294),n=r(1163),l=r(6215),i=r(2553),o=r(2542),d=r(4442);let c=(0,r(1134).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var u=r(2190),p=r(8267),m=r(893),x=r(113),f=r(437),g=r(5452),h=r(2126),b=r(7918),v=r(202),y=r(8133),j=r(8794),N=r(6601),w=r(9376),k=r(2697),Z=r(9701),_=r(8396),C=r(610),S=r(9864);let A=[{href:"/recruiter",label:"Dashboard",icon:l.Z},{href:"/recruiter/applications",label:"Applications",icon:i.Z},{href:"/alerts",label:"Alerts",icon:o.Z}],M={onboarding:"bg-blue-100 text-blue-800",marketing:"bg-yellow-100 text-yellow-800",interviewing:"bg-purple-100 text-purple-800",offered:"bg-green-100 text-green-800",placed:"bg-emerald-100 text-emerald-800",inactive:"bg-gray-100 text-gray-800"},P=e=>{let{icon:t,label:r,value:n}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-border bg-muted/30 px-4 py-3",children:[(0,a.jsx)("div",{className:"rounded-md bg-background p-2 shadow-sm",children:t}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:r}),s.isValidElement(n)?n:(0,a.jsx)("span",{className:"text-sm font-semibold text-foreground",children:n})]})]})},D=e=>{let{label:t,value:r,suffix:s="",tone:n}=e;return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 text-center ".concat(null!=n?n:"bg-muted text-foreground"),children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:t}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-foreground",children:[r,s]})]})},I=e=>{var t,r,s;let{note:n,formatDateTime:l}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-border bg-card/60 p-4 shadow-sm",children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"rounded-full bg-secondary/70 p-2",children:(0,a.jsx)(g.Z,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-semibold text-foreground",children:[(null===(t=n.author)||void 0===t?void 0:t.name)||"Unknown contributor",n.isPrivate&&(0,a.jsxs)("span",{className:"ml-2 inline-flex items-center gap-1 text-xs text-muted-foreground",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3"}),"Private"]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[l(n.createdAt)," - ",null!==(s=null===(r=n.author)||void 0===r?void 0:r.role)&&void 0!==s?s:"Contributor"]})]})]})}),(0,a.jsx)("p",{className:"mt-3 text-sm leading-relaxed text-foreground",children:n.content}),n.reminder&&(0,a.jsxs)("div",{className:"mt-3 rounded-md bg-amber-50 px-3 py-2 text-xs text-amber-800 border border-amber-200 flex items-start gap-2",children:[(0,a.jsx)(b.Z,{className:"h-3.5 w-3.5 mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)("p",{className:"font-semibold",children:n.reminder.title}),(0,a.jsx)("p",{children:n.reminder.description}),(0,a.jsxs)("p",{className:"text-amber-700/80",children:["Due ",l(n.reminder.dueDate)," - Priority ",n.reminder.priority]})]})]})]})};var z=()=>{var e;let t=(0,n.useRouter)(),{id:r}=t.query,l=(0,v.NL)(),[i,o]=(0,s.useState)(""),[z,E]=(0,s.useState)(!1),[T,F]=(0,s.useState)(0),[R,V]=(0,s.useState)(0),[L,q]=(0,s.useState)(""),[B,H]=(0,s.useState)(""),[U,O]=(0,s.useState)(!1),[$,W]=(0,s.useState)(!1),[X,J]=(0,s.useState)(""),[K,Q]=(0,s.useState)(""),[G,Y]=(0,s.useState)(""),[ee,et]=(0,s.useState)(1),[er,ea]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){t.push("/login");return}o(e)},[t]);let es=(0,s.useMemo)(()=>{if(!r)return null;let e=Array.isArray(r)?parseInt(r[0],10):parseInt(r,10);return Number.isNaN(e)?null:e},[r]),{data:en=[],isLoading:el}=(0,S.t$)(i,!!i),ei=(0,s.useMemo)(()=>en.find(e=>e.id===es),[en,es]);(0,s.useEffect)(()=>{ei&&!z&&(F(ei.daily_applications||0),V(ei.total_applications||0))},[ei,z]);let{data:eo=[],isLoading:ed}=(0,S.eu)(i,es,!!(i&&es)),ec=(0,S.pZ)(i,es,{onSuccess:()=>{ea({type:"success",text:"Note added successfully."}),H(""),O(!1),W(!1),J(""),Q(""),Y(""),et(1)},onError:e=>{ea({type:"error",text:e.message||"Unable to add note."})}}),eu=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("".concat(C.Z,"/api/v1/candidates/").concat(r),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({daily_applications:T,total_applications:R})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e.message||"Failed to update candidate.")}await l.invalidateQueries({queryKey:S.ad.candidates(e)}),E(!1),q("")}catch(e){console.error("Error updating candidate:",e),q(e.message)}},ep=e=>{if(!e)return"Unknown time";try{return new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}catch(t){return String(e)}},em=(0,s.useMemo)(()=>(null==ei?void 0:ei.current_stage)?ei.current_stage.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"N/A",[null==ei?void 0:ei.current_stage]),ex=(0,s.useMemo)(()=>{var e;return(null==ei?void 0:null===(e=ei.skills)||void 0===e?void 0:e[0])||"N/A"},[null==ei?void 0:ei.skills]),ef=el||!i||null!==es&&!ei;return ef?(0,a.jsx)(_.Z,{title:"Candidate Detail",links:A,onBack:()=>t.push("/recruiter"),children:(0,a.jsx)("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:"Loading candidate..."})}):ei||ef||null===es?(0,a.jsxs)(_.Z,{title:ei.name,subtitle:ei.email,links:A,onBack:()=>t.push("/recruiter"),actions:(0,a.jsx)(N.C,{className:null!==(e=M[ei.current_stage])&&void 0!==e?e:"bg-blue-100 text-blue-800",children:em}),children:[L&&(0,a.jsx)("div",{className:"mb-4 text-sm text-red-600 bg-red-100/80 border border-red-200 rounded-lg p-3",children:L}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(y.Zb,{className:"lg:col-span-2 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:"Candidate Information"}),z?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(j.z,{size:"sm",className:"gap-2 bg-green-600 hover:bg-green-600/90",onClick:eu,children:[(0,a.jsx)(c,{className:"h-4 w-4"}),"Save"]}),(0,a.jsxs)(j.z,{size:"sm",variant:"outline",className:"gap-2",onClick:()=>{ei&&(F(ei.daily_applications||0),V(ei.total_applications||0),E(!1),q(""))},children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),"Cancel"]})]}):(0,a.jsxs)(j.z,{size:"sm",className:"gap-2",onClick:()=>E(!0),children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Edit"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(P,{icon:(0,a.jsx)(p.Z,{className:"h-5 w-5 text-blue-600"}),label:"Name",value:ei.name}),(0,a.jsx)(P,{icon:(0,a.jsx)(m.Z,{className:"h-5 w-5 text-emerald-600"}),label:"Primary Skill",value:ex}),(0,a.jsx)(P,{icon:(0,a.jsx)(x.Z,{className:"h-5 w-5 text-purple-600"}),label:"Daily Applications",value:z?(0,a.jsx)(w.I,{type:"number",value:T,onChange:e=>F(parseInt(e.target.value,10)||0),className:"max-w-[120px]"}):ei.daily_applications||0}),(0,a.jsx)(P,{icon:(0,a.jsx)(f.Z,{className:"h-5 w-5 text-orange-600"}),label:"Total Applications",value:z?(0,a.jsx)(w.I,{type:"number",value:R,onChange:e=>V(parseInt(e.target.value,10)||0),className:"max-w-[120px]"}):ei.total_applications||0})]})]}),(0,a.jsxs)(y.Zb,{className:"p-6 space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Performance Snapshot"}),(0,a.jsx)(D,{label:"Today's Applications",value:ei.daily_applications||0,tone:"bg-blue-100 text-blue-700"}),(0,a.jsx)(D,{label:"Total Applications",value:ei.total_applications||0,tone:"bg-green-100 text-green-700"}),(0,a.jsx)(D,{label:"Daily vs Total",value:ei.total_applications>0?Math.round((ei.daily_applications||0)/ei.total_applications*100):0,suffix:"%",tone:"bg-purple-100 text-purple-700"})]})]}),(0,a.jsxs)(y.Zb,{className:"p-6 space-y-5 mt-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5 text-primary"}),"Collaboration Feed"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Share updates, blockers, or context for teammates. Private notes are visible only to you and admins."})]})}),er&&(0,a.jsx)("div",{className:"rounded-md border px-3 py-2 text-sm ".concat("success"===er.type?"border-green-200 bg-green-50 text-green-700":"border-red-200 bg-red-50 text-red-700"),children:er.text}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!es||!B.trim()){ea({type:"error",text:"Please enter a note before saving."});return}let t={content:B.trim(),isPrivate:U};$&&X&&(t.followUp={dueDate:X,title:K,description:G,priority:ee}),ec.mutate(t)},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{htmlFor:"note-content",children:"Add a note"}),(0,a.jsx)(Z.Z,{id:"note-content",value:B,onChange:e=>{H(e.target.value),er&&ea(null)},placeholder:"Share updates, coaching ideas, or candidate feedback...",minLength:3,required:!0})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border border-input text-primary focus:ring-primary",checked:U,onChange:e=>{O(e.target.checked),er&&ea(null)}}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),"Private to me"]})]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border border-input text-primary focus:ring-primary",checked:$,onChange:e=>{W(e.target.checked),er&&ea(null)}}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Create follow-up reminder"]})]})]}),$&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 rounded-lg border border-border bg-muted/30 p-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{htmlFor:"follow-up-due",children:"Due date"}),(0,a.jsx)(w.I,{id:"follow-up-due",type:"datetime-local",value:X,onChange:e=>{J(e.target.value),er&&ea(null)},required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{htmlFor:"follow-up-priority",children:"Priority"}),(0,a.jsx)("select",{id:"follow-up-priority",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:ee,onChange:e=>{et(parseInt(e.target.value,10)||1),er&&ea(null)},children:[1,2,3,4,5].map(e=>(0,a.jsxs)("option",{value:e,children:["Priority ",e]},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(k._,{htmlFor:"follow-up-title",children:"Reminder title (optional)"}),(0,a.jsx)(w.I,{id:"follow-up-title",value:K,onChange:e=>{Q(e.target.value),er&&ea(null)},placeholder:"Follow up with candidate"})]}),(0,a.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,a.jsx)(k._,{htmlFor:"follow-up-description",children:"Reminder description (optional)"}),(0,a.jsx)(Z.Z,{id:"follow-up-description",value:G,onChange:e=>{Y(e.target.value),er&&ea(null)},placeholder:"Add context for the reminder...",rows:3})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(j.z,{type:"button",variant:"outline",onClick:()=>{H(""),O(!1),W(!1),J(""),Q(""),Y(""),et(1),ea(null)},children:"Clear"}),(0,a.jsx)(j.z,{type:"submit",disabled:ec.isPending,children:ec.isPending?"Saving...":"Add Note"})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:ed?(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading notes..."}):0===eo.length?(0,a.jsx)("div",{className:"rounded-md border border-dashed border-border px-4 py-6 text-center text-sm text-muted-foreground",children:"No notes yet. Start capturing updates to keep everyone aligned."}):(0,a.jsx)("div",{className:"space-y-4",children:eo.map(e=>(0,a.jsx)(I,{note:e,formatDateTime:ep},e.id))})})]})]}):(0,a.jsx)(_.Z,{title:"Candidate Detail",links:A,onBack:()=>t.push("/recruiter"),children:(0,a.jsxs)("div",{className:"h-48 flex flex-col items-center justify-center space-y-2 text-muted-foreground",children:[(0,a.jsx)("p",{children:"Candidate not found or no longer assigned."}),(0,a.jsx)(j.z,{onClick:()=>t.push("/recruiter"),children:"Back to Dashboard"})]})})}},9102:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var a=r(7294),s=r(5320),n=r(5893),l=a.forwardRef((e,t)=>(0,n.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},5320:function(e,t,r){"use strict";r.d(t,{WV:function(){return i},jH:function(){return o}});var a=r(7294),s=r(3935),n=r(8426),l=r(5893),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.Z8)(`Primitive.${t}`),s=a.forwardRef((e,a)=>{let{asChild:s,...n}=e,i=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function o(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[696,787,803,858,888,774,179],function(){return e(e.s=6793)}),_N_E=e.O()}]);