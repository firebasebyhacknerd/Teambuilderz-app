import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { FileText, Users, Calendar, TrendingUp, Briefcase, Phone } from 'lucide-react';\nimport { Card } from '../../components/ui/card';\nimport PDFExportPanel from '../../components/ui/pdf-export-panel';\nimport { DashboardLayout } from '../../components/Layout/DashboardLayout';\n\nconst ReportsPage = () => {\n  const [selectedReport, setSelectedReport] = useState(null);\n\n  const reportTypes = [\n    {\n      id: 'attendance',\n      name: 'Attendance Reports',\n      description: 'Export attendance records with date ranges and employee filters',\n      icon: Calendar,\n      color: 'bg-blue-500',\n      adminOnly: true\n    },\n    {\n      id: 'candidates',\n      name: 'Candidates Pipeline',\n      description: 'Export candidate data with stages and recruiter assignments',\n      icon: Users,\n      color: 'bg-green-500',\n      adminOnly: false\n    },\n    {\n      id: 'performance',\n      name: 'Performance Analytics',\n      description: 'Export recruiter performance metrics and conversion rates',\n      icon: TrendingUp,\n      color: 'bg-purple-500',\n      adminOnly: true\n    },\n    {\n      id: 'applications',\n      name: 'Applications Tracking',\n      description: 'Export application status and submission data',\n      icon: Briefcase,\n      color: 'bg-orange-500',\n      adminOnly: false\n    },\n    {\n      id: 'interviews',\n      name: 'Interviews Schedule',\n      description: 'Export interview schedules and status tracking',\n      icon: Phone,\n      color: 'bg-red-500',\n      adminOnly: false\n    }\n  ];\n\n  const userRole = typeof window !== 'undefined' ? localStorage.getItem('userRole') : 'Recruiter';\n  const availableReports = userRole === 'Admin' \n    ? reportTypes \n    : reportTypes.filter(report => !report.adminOnly);\n\n  return (\n    <DashboardLayout title=\"Reports\" subtitle=\"Export data as PDF documents\">\n      <div className=\"space-y-6\">\n        {/* Report Type Selection */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {availableReports.map((report, index) => {\n            const Icon = report.icon;\n            const isSelected = selectedReport === report.id;\n            \n            return (\n              <motion.div\n                key={report.id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: index * 0.1 }}\n              >\n                <Card\n                  className={`p-6 cursor-pointer transition-all duration-300 hover:shadow-lg ${\n                    isSelected \n                      ? 'ring-2 ring-primary border-primary' \n                      : 'hover:border-primary/50'\n                  }`}\n                  onClick={() => setSelectedReport(isSelected ? null : report.id)}\n                >\n                  <div className=\"space-y-4\">\n                    <div className=\"flex items-center gap-4\">\n                      <div className={`p-3 rounded-lg ${report.color} text-white`}>\n                        <Icon className=\"h-6 w-6\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-lg\">{report.name}</h3>\n                        {report.adminOnly && (\n                          <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs bg-amber-100 text-amber-800 mt-1\">\n                            Admin Only\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <p className=\"text-muted-foreground text-sm\">\n                      {report.description}\n                    </p>\n                    \n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-xs text-muted-foreground\">\n                        {isSelected ? 'Click to deselect' : 'Click to configure'}\n                      </span>\n                      <motion.div\n                        animate={{ \n                          rotate: isSelected ? 180 : 0,\n                          scale: isSelected ? 1.1 : 1\n                        }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        <FileText className=\"h-4 w-4 text-primary\" />\n                      </motion.div>\n                    </div>\n                  </div>\n                </Card>\n              </motion.div>\n            );\n          })}\n        </div>\n\n        {/* Export Panel */}\n        {selectedReport && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n          >\n            <PDFExportPanel \n              reportType={selectedReport}\n              className=\"max-w-2xl mx-auto\"\n            />\n          </motion.div>\n        )}\n\n        {/* Quick Actions */}\n        {!selectedReport && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.5 }}\n            className=\"text-center py-12\"\n          >\n            <FileText className=\"h-16 w-16 text-muted-foreground mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold mb-2\">Select a Report Type</h3>\n            <p className=\"text-muted-foreground max-w-md mx-auto\">\n              Choose a report type above to configure filters and export your data as PDF documents.\n            </p>\n          </motion.div>\n        )}\n\n        {/* Usage Tips */}\n        {!selectedReport && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.7 }}\n          >\n            <Card className=\"p-6 bg-muted/30\">\n              <h4 className=\"font-semibold mb-4\">Quick Tips</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-1.5\"></div>\n                    <div>\n                      <strong>Advanced Filters:</strong> Use advanced mode to filter by date ranges, status, and specific users.\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-1.5\"></div>\n                    <div>\n                      <strong>Performance Reports:</strong> Track recruiter metrics and conversion rates over time.\n                    </div>\n                  </div>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-1.5\"></div>\n                    <div>\n                      <strong>Real-time Data:</strong> Reports are generated with the latest data from the system.\n                    </div>\n                  </div>\n                  <div className=\"flex items-start gap-2\">\n                    <div className=\"w-2 h-2 bg-primary rounded-full mt-1.5\"></div>\n                    <div>\n                      <strong>PDF Format:</strong> All reports are exported as professionally formatted PDF documents.\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </motion.div>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n};\n\nexport default ReportsPage;
